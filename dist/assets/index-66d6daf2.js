var Ae=Object.defineProperty;var $e=(m,_,t)=>_ in m?Ae(m,_,{enumerable:!0,configurable:!0,writable:!0,value:t}):m[_]=t;var G=(m,_,t)=>($e(m,typeof _!="symbol"?_+"":_,t),t);import{K as P,F as Oe,c as De,Q as We,X as Ne,f as Ue}from"./graphic-bd433710.js";import{h as Fe,j as He,B as $,T as qe,k as Be,l as Ke,m as Ve,n as Ze,o as Ge,q as Ye,t as Xe,u as je}from"./ui1-ce9d4164.js";import{C as ie,a as Qe,T as re}from"./ui2-69b00225.js";import{M as Je,d as J,c as ze,f as z,l as v,q as R,b as f,A as k,N as c,C as Q,O as E,P as et,Q as B,t as M,s,D as tt,F as O,G as W,y as ce,w as Ce,R as be,S as ke,U as at,V as ot,W as nt}from"./vue-a0cb40d0.js";(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const l of d.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function e(r){if(r.ep)return;r.ep=!0;const d=t(r);fetch(r.href,d)}})();const Se=Je("konva_node",{state:()=>({avatar_node:"",background_node:"",shape_node:{type:"",color:""},is_trigger_add_shape_node:!1,is_trigger_save_image:!1,is_trigger_relocate:!1,is_trigger_change_z_index:!1,is_to_top:!1,is_trigger_change_color:!1,changed_color:""})});function Ie(m,_,t,e=""){const r="#393646";switch(m){case"star":return new P.Star({numPoints:5,outerRadius:t,innerRadius:t/2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,offsetX:-t,offsetY:-t});case"heart":return new P.Shape({width:t*2,height:t*2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,sceneFunc:(l,S)=>{const o=t/18;let g=0,w=0,I=0;l.beginPath(),l.translate(t,t/1.05),l.scale(1,-1);for(let b=0;b<20;b+=.25)g=b/Math.PI,w=o*(16*Math.sin(g)**3),I=o*(13*Math.cos(g)-5*Math.cos(2*g)-2*Math.cos(3*g)-Math.cos(4*g)),l.lineTo(w,I);l.closePath(),l.fillStrokeShape(S)}});case"seven":return new P.Text({text:"7",width:t*2,height:t*2,fontSize:t*2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,fontFamily:"sans-serif",align:"center",padding:t/4});case"fire":return new P.Shape({width:t*2,height:t*2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,sceneFunc:(l,S)=>{const o=t*2;l.beginPath(),l.moveTo(o/2,0),l.quadraticCurveTo(o*7/16,o/2,o*3/8,o/2),l.quadraticCurveTo(o*5/16,o/2,o/4,o/4),l.quadraticCurveTo(o/8,o*5/8,o/8,o*3/4),l.quadraticCurveTo(o/8,o*15/16,o/2,o),l.quadraticCurveTo(o*7/8,o*15/16,o*7/8,o*3/4),l.quadraticCurveTo(o*7/8,o*5/8,o*3/4,o/4),l.quadraticCurveTo(o*11/16,o/2,o*5/8,o/2),l.quadraticCurveTo(o*9/16,o/2,o/2,0),l.closePath(),l.fillStrokeShape(S)}});case"moon":return new P.Shape({width:t*2,height:t*2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,sceneFunc:(l,S)=>{const o=Math.sqrt(2)/2,g=t;l.beginPath();for(let w=Math.PI/4;w<=Math.PI*7/4;w+=.1)l.lineTo(g*(1+Math.cos(w)),g*(1-Math.sin(w)));for(let w=Math.PI*3/2;w>=Math.PI/2;w-=.1)l.lineTo((o+1+o*Math.cos(w))*g,g*(1-o*Math.sin(w)));l.closePath(),l.fillStrokeShape(S)}});case"halo":return new P.Ring({outerRadius:t,innerRadius:t/2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,offsetX:-t,offsetY:-t})}return null}const st=J({__name:"CropperStencil",props:{image:{},coordinates:{},transitions:{},stencilCoordinates:{}},emits:["move","move-end","resize","resize-end"],setup(m,{emit:_}){const t=m,e=Fe(),r=ze(()=>{const{height:g,width:w,left:I,top:b}=t.stencilCoordinates,A={width:`${w}px`,height:`${g}px`,transform:`translate(${I}px, ${b}px)`,transition:"none"};return t.transitions&&t.transitions.enabled&&(A.transition=`${t.transitions.time}ms ${t.transitions.timingFunction}`),A});function d(g){_("move",g)}function l(){_("move-end")}function S(g){const I=g.shift().left;_("resize",new Ne({left:I,right:I,top:I,bottom:I},{preserveRatio:!0}))}function o(){_("resize-end")}return z(()=>{}),(g,w)=>(v(),R("div",{class:"circle_stencil",style:Q(r.value)},[f(c(Oe),{class:"circle_stencil__handler",onDrag:S,onDragEnd:o},{default:k(()=>[f(c(e))]),_:1}),f(c(We),{onMove:d,onMoveEnd:l,class:"circle_stencil__crop_area"},{default:k(()=>[f(c(De),{class:"circle_stencil__preview",image:g.image,coordinates:g.coordinates,width:g.stencilCoordinates.width,height:g.stencilCoordinates.height,transitions:g.transitions},null,8,["image","coordinates","width","height","transitions"])]),_:1})],4))}});const lt={class:"cropper_modal__row cropper_modal__row--first"},it={class:"cropper_modal__row cropper_modal__row--last"},rt=J({__name:"CropperModal",props:{avatarDataUrl:{},isModalShow:{type:Boolean}},emits:["passAvatar","closeModal"],setup(m,{emit:_}){const t=m,e=He(),r=E(null),{isModalShow:d}=et(t),l=E(!1);function S(){const o=r.value.getResult().canvas;o&&(_("passAvatar",o.toDataURL()),_("closeModal"))}return z(()=>{window.addEventListener("resize",()=>{var g;const o=document.body.clientWidth;(g=document.querySelector(".tiny-modal__box"))==null||g.style.setProperty("left",`calc(${o>=1008?30:o>=641?20:10}vw + .5rem)`)})}),B(d,o=>{l.value=o}),(o,g)=>(v(),M(c(qe),{class:"cropper_modal",modelValue:l.value,"onUpdate:modelValue":g[1]||(g[1]=w=>l.value=w),showHeader:!1},{default:k(()=>[s("div",lt,[s("div",{class:"cropper_modal__close_button",onClick:g[0]||(g[0]=w=>_("closeModal"))},[f(c(e))])]),f(c(Ue),{class:"cropper",ref_key:"cropper_instance",ref:r,src:o.avatarDataUrl,stencilProps:{aspectRatio:1/1},stencilComponent:st},null,8,["src"]),s("div",it,[f(c($),{class:"crop_button",onClick:S,round:""},{default:k(()=>[tt("Crop")]),_:1})])]),_:1},8,["modelValue"]))}});const ue=(m,_)=>{const t=m.__vccOpts||m;for(const[e,r]of _)t[e]=r;return t},ct=ue(rt,[["__scopeId","data-v-18737960"]]),Re=""+new URL("b1-17081d0a.png",import.meta.url).href,Ee=""+new URL("b2-a3fadbfe.png",import.meta.url).href,Te=""+new URL("b3-c9265a32.png",import.meta.url).href,xe=""+new URL("r1-1779894b.png",import.meta.url).href,Le=""+new URL("s1-af5e0d63.jpg",import.meta.url).href,Me=""+new URL("s2-ec3d0360.jpg",import.meta.url).href,Pe=""+new URL("s3-885f8f2a.jpg",import.meta.url).href,de=m=>(be("data-v-3f664d3d"),m=m(),ke(),m),_t={class:"aside"},ut={class:"aside__container"},dt={class:"upload_button"},ht={class:"general_list background_list"},pt=["src"],gt=de(()=>s("span",null,"Meta",-1)),vt={class:"upload_button"},ft={class:"general_list avatar_list"},mt=["src"],yt=de(()=>s("span",null,"777",-1)),wt={class:"general_list shape_color_list"},Ct={class:"shape_color_list__row"},bt={class:"shape_color_list__row"},kt={class:"general_list shape_list"},St=["src"],It={class:"upload_button"},Rt={class:"general_list background_list"},Et=["src"],Tt=de(()=>s("span",null,"Meta",-1)),xt={class:"upload_button"},Lt={class:"general_list avatar_list"},Mt=["src"],Pt=de(()=>s("span",null,"777",-1)),At={class:"general_list shape_color_list"},$t={class:"shape_color_list__row"},Ot={class:"shape_color_list__row"},Dt={class:"general_list shape_list"},Wt=["src"],Nt={class:"general_list operation_list"},Ut=J({__name:"MyAside",setup(m){class _{constructor(h,a){G(this,"value");G(this,"index");this.index=h,this.value=a}}class t{constructor(h=[]){G(this,"data");G(this,"counter");this.data=[],this.counter=0,h.length>0&&(this.data=h.map(a=>(this.counter+=1,new _(this.counter,a))))}push(h){this.counter+=1,this.data.push(new _(this.counter,h))}access(h){return this.data[h].value}remove(h){for(let a=0;a<this.data.length;a+=1)if(this.data[a].index===h){this.data.splice(a,1);return}}}const e=Se(),r=Be(),d=Ke(),l=Ve(),S=Ze(),o=Ge(),g=Ye(),w=Xe();let I=!1;const b=E(!1),A=E(["templates"]),F=E("templates"),N=E(!1),Y=E(new t([xe])),V=E(""),U=["#DD5353","#FFD95A","#62CDFF","#03C988","#FFABAB","#9A208C","#20262E","#F0F0F0"],X=["star","heart","seven","fire","moon","halo"].map(u=>({type:u,image:E("")})),Z=E(U[0]),j=E(""),H=[{name:"Save",icon:g,handler:n},{name:"Relocate",icon:w,handler:y},{name:"Move to Top",icon:l,handler:()=>L(!0)},{name:"Move to Bottom",icon:S,handler:()=>L(!1)}],ee=[Re,Ee,Te,Le,Me,Pe],q=E(new t(ee));function he(){I?(document.querySelector(".aside").classList.remove("aside--collapsed"),document.querySelector(".collapse_button").classList.remove("collapse_button--reversed"),I=!1):(document.querySelector(".aside").classList.add("aside--collapsed"),document.querySelector(".collapse_button").classList.add("collapse_button--reversed"),I=!0)}function te(u){u.length!==0&&(F.value=u[0])}function ae(u){A.value=[u.name]}function oe(u){if(!u.target)return;const h=u.target;if(h.files&&h.files[0]){const a=new FileReader;a.onload=p=>{if(!p.target)return;const C=p.target.result;if(!C.startsWith("data:"))return;const D=new Image;D.onload=()=>{q.value.push(C),h.value=""},D.onerror=()=>{console.log("Background image error.")},D.src=C},a.readAsDataURL(h.files[0])}}function ne(u){if(!u.target)return;const h=u.target;if(h.files&&h.files[0]){const a=new FileReader;a.onload=p=>{if(!p.target)return;const C=p.target.result;if(!C.startsWith("data:"))return;const D=new Image;D.onload=()=>{V.value=C,h.value="",N.value=!0},D.onerror=()=>{console.log("Avatar image error.")},D.src=C},a.readAsDataURL(h.files[0])}}function pe(u){Y.value.push(u)}function ge(){N.value=!1,V.value=""}function se(u){e.background_node=u}function le(u){e.avatar_node=u}function i(u){j.value=u,e.shape_node={type:j.value,color:Z.value},e.is_trigger_add_shape_node=!0}function n(){e.is_trigger_save_image=!0}function y(){e.is_trigger_relocate=!0}function L(u){e.is_to_top=u,e.is_trigger_change_z_index=!0}function T(){const h=new P.Circle({radius:24,fill:Z.value});for(const a of X){let p=Ie(a.type,Z.value,48);p?a.image.value=p.toDataURL():a.image.value=h.toDataURL()}}function x(u){Z.value=u,T(),e.changed_color=u,e.is_trigger_change_color=!0}return z(()=>{b.value=document.body.clientWidth<=640,window.addEventListener("resize",()=>{const h=document.body.clientWidth;b.value=h<=640}),T()}),(u,h)=>(v(),R("div",_t,[s("div",ut,[b.value?(v(),M(c(je),{key:1,modelValue:F.value,"onUpdate:modelValue":h[1]||(h[1]=a=>F.value=a),onClick:ae},{default:k(()=>[f(c(re),{title:"Templates",name:"templates"},{default:k(()=>[s("label",It,[s("input",{type:"file",accept:"image/*",onChange:oe},null,32),f(c(d))]),s("div",Rt,[(v(!0),R(O,null,W(q.value.data,(a,p)=>(v(),M(c($),{key:p,class:"general_list__item background_list__item",onClick:C=>se(a.value)},{default:k(()=>[s("img",{src:a.value},null,8,Et),Tt]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(re),{title:"Avatars",name:"avatars"},{default:k(()=>[s("label",xt,[s("input",{type:"file",accept:"image/*",onChange:ne},null,32),f(c(d))]),s("div",Lt,[(v(!0),R(O,null,W(Y.value.data,(a,p)=>(v(),M(c($),{class:"general_list__item avatar_list__item",key:p,onClick:C=>le(a.value)},{default:k(()=>[s("img",{src:a.value},null,8,Mt),Pt,f(c(o))]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(re),{title:"Shapes",name:"shapes"},{default:k(()=>[s("div",At,[s("div",$t,[(v(!0),R(O,null,W(U.slice(0,4),(a,p)=>(v(),M(c($),{class:"general_list__item shape_color_list__item",circle:"",key:p,onClick:C=>x(a),style:Q({backgroundColor:a})},null,8,["onClick","style"]))),128))]),s("div",Ot,[(v(!0),R(O,null,W(U.slice(4),(a,p)=>(v(),M(c($),{class:"general_list__item shape_color_list__item",circle:"",key:p,onClick:C=>x(a),style:Q({backgroundColor:a})},null,8,["onClick","style"]))),128))])]),s("div",Dt,[(v(!0),R(O,null,W(c(X),(a,p)=>(v(),M(c($),{class:"general_list__item shape_list__item",key:p,onClick:C=>i(a.type)},{default:k(()=>[s("img",{src:a.image.value},null,8,Wt),s("span",null,ce(a.type.charAt(0).toUpperCase()+a.type.slice(1)),1),f(c(o))]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(re),{title:"Operations",name:"operations"},{default:k(()=>[s("div",Nt,[(v(),R(O,null,W(H,(a,p)=>f(c($),{class:"general_list__item operation_list__item operation_list__item--mobile",key:p,onClick:a.handler},{default:k(()=>[s("span",null,ce(a.name),1),(v(),M(Ce(a.icon)))]),_:2},1032,["onClick"])),64))])]),_:1})]),_:1},8,["modelValue"])):(v(),M(c(Qe),{key:0,modelValue:A.value,"onUpdate:modelValue":h[0]||(h[0]=a=>A.value=a),onChange:te},{default:k(()=>[f(c(ie),{title:"Templates",name:"templates"},{default:k(()=>[s("label",dt,[s("input",{type:"file",accept:"image/*",onChange:oe},null,32),f(c(d))]),s("div",ht,[(v(!0),R(O,null,W(q.value.data,(a,p)=>(v(),M(c($),{class:"general_list__item background_list__item background_list__item--middle",key:p,onClick:C=>se(a.value)},{default:k(()=>[s("img",{src:a.value},null,8,pt),gt]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(ie),{title:"Avatars",name:"avatars"},{default:k(()=>[s("label",vt,[s("input",{type:"file",accept:"image/*",onChange:ne},null,32),f(c(d))]),s("div",ft,[(v(!0),R(O,null,W(Y.value.data,(a,p)=>(v(),M(c($),{class:"general_list__item avatar_list__item avatar_list__item--middle",key:p,onClick:C=>le(a.value)},{default:k(()=>[s("img",{src:a.value},null,8,mt),yt,f(c(o))]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(ie),{title:"Shapes",name:"shapes"},{default:k(()=>[s("div",wt,[s("div",Ct,[(v(!0),R(O,null,W(U.slice(0,4),(a,p)=>(v(),M(c($),{class:"general_list__item shape_color_list__item",circle:"",key:p,onClick:C=>x(a),style:Q({backgroundColor:a})},null,8,["onClick","style"]))),128))]),s("div",bt,[(v(!0),R(O,null,W(U.slice(4),(a,p)=>(v(),M(c($),{class:"general_list__item shape_color_list__item",circle:"",key:p,onClick:C=>x(a),style:Q({backgroundColor:a})},null,8,["onClick","style"]))),128))])]),s("div",kt,[(v(!0),R(O,null,W(c(X),(a,p)=>(v(),M(c($),{class:"general_list__item shape_list__item shape_list__item--middle",key:p,onClick:C=>i(a.type)},{default:k(()=>[s("img",{src:a.image.value},null,8,St),s("span",null,ce(a.type.charAt(0).toUpperCase()+a.type.slice(1)),1),f(c(o))]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(ie),{title:"Operations",name:"operations"},{default:k(()=>[(v(),R(O,null,W(H,(a,p)=>f(c($),{class:"general_list__item operation_list__item",key:p,onClick:a.handler},{default:k(()=>[s("span",null,ce(a.name),1),(v(),M(Ce(a.icon)))]),_:2},1032,["onClick"])),64))]),_:1})]),_:1},8,["modelValue"]))]),s("div",{class:"collapse_button",onClick:he},[f(c(r))]),f(ct,{isModalShow:N.value,avatarDataUrl:V.value,onPassAvatar:pe,onCloseModal:ge},null,8,["isModalShow","avatarDataUrl"])]))}});const Ft=ue(Ut,[["__scopeId","data-v-3f664d3d"]]),Ht={id:"stage"},ve="background",fe=10,me=640,_e=40,qt=J({__name:"MyStage",setup(m){class _{constructor(){G(this,"id");this.id=0}get(){return this.id+=1,this.id-1}}const t=Se(),e=E(null),r=E(null),d=E(null),l=E(null),S=E(null),o=new _,g=new _,w=new _,I=new window.Image;let b="",A=null,F=0,N=!1;function Y(i,n){return Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2))}function V(i,n){return{x:(i.x+n.x)/2,y:(i.y+n.y)/2}}function U(){l.value.x(d.value.width()),S.value.x(d.value.width()-fe)}function ye(i){const y=e.value.getPointerPosition(),L={x:y.x-e.value.getAbsolutePosition().x,y:y.y-e.value.getAbsolutePosition().y};let T=!0;i.evt.deltaY<0?e.value.scale({x:e.value.scale().x*1.2,y:e.value.scale().y*1.2}):(e.value.scale({x:e.value.scale().x/1.2,y:e.value.scale().y/1.2}),T=!1),e.value.absolutePosition({x:e.value.getAbsolutePosition().x-L.x*((T?1.2:1/1.2)-1),y:e.value.getAbsolutePosition().y-L.y*((T?1.2:1/1.2)-1)}),U()}function X(i){if(N)return;const n=i.evt.touches[0],y=i.evt.touches[1];if(n&&y){e.value.isDragging()&&e.value.stopDrag();const L={x:n.clientX,y:n.clientY},T={x:y.clientX,y:y.clientY},x=V(L,T),u=Y(L,T);if(!A){A=V(L,T);return}F===0&&(F=u);const h=e.value.scale().x*(u/F),a=h/e.value.scale().x,p={x:x.x-e.value.getAbsolutePosition().x,y:x.y-e.value.getAbsolutePosition().y};e.value.scale({x:h,y:h});const C={x:x.x-A.x,y:x.y-A.y},D={x:e.value.absolutePosition().x-p.x*(a-1)+C.x,y:e.value.absolutePosition().y-p.y*(a-1)+C.y};e.value.absolutePosition(D),F=u,A=x,U()}}function Z(){F=0,A=null}function j(){e.value.width(document.body.offsetWidth),e.value.height(document.body.offsetHeight)}function H(){const i=d.value.getNode(),n=e.value.findOne(`.${b}`);d.value.moveToTop(),n!==i&&(n?d.value.nodes([n]):d.value.nodes([]),U())}function ee(i){if(i.target===e.value){b="",N=!1,H();return}if(i.target.parent&&i.target.parent.className==="Transformer"){N=!1;return}const n=i.target.name();n===ve?(b="",N=!1):b=n,H()}function q(){const i=e.value.findOne(`.${b}`);i&&(i.destroy(),d.value.nodes([]))}function he(i){I.src=i,r.value.draw()}function te(i){const n=i.evt.touches[0],y=i.evt.touches[1];n&&y&&(N=!0,e.value.isDragging()&&e.value.stopDrag())}function ae(){N=!1}function oe(i){const n=new window.Image;n.src=i;const y=new P.Circle({x:(I.width-n.width)/2,y:(I.height-n.height)/2,radius:n.width/2,fillPatternImage:n,fillPatternRepeat:"no-repeat",fillPatternOffsetX:n.width/2,fillPatternOffsetY:n.height/2,draggable:!0,name:`avatar_${o.get()}`,offsetX:-n.width/2,offsetY:-n.height/2});y.on("touchmove",te),y.on("touchend",ae),r.value.add(y),b=y.name(),H()}function ne(){let n=Ie(t.shape_node.type,t.shape_node.color,100,`shape_${g.get()}`);n&&(n.position({x:I.width/2-100,y:I.height/2-100}),n.on("touchmove",te),n.on("touchend",ae),r.value.add(n),b=n.name(),H())}function pe(){const i=e.value.clone(),n=i.getLayers()[0],y=i.findOne("Transformer"),L=document.createElement("a");let T=0,x=0,u=0,h=0;i.scale({x:1,y:1}),y==null||y.destroy();for(let a=0;a<n.children.length;a+=1){const p=n.children[a].absolutePosition().x,C=n.children[a].absolutePosition().y,D=n.children[a].absolutePosition().x+n.children[a].width(),we=n.children[a].absolutePosition().y+n.children[a].height();a===0?(T=p,x=C,u=D,h=we):(T=Math.min(T,p),x=Math.min(x,C),u=Math.max(u,D),h=Math.max(h,we))}L.download=`berserk${"7".repeat(w.get()+1)}meta.png`,L.href=i.toDataURL({x:T,y:x,width:u-T,height:h-x}),document.body.appendChild(L),L.click(),document.body.removeChild(L)}function ge(){var i;e.value.position({x:document.body.clientWidth>me?(((i=document.querySelector(".aside"))==null?void 0:i.offsetWidth)??0)+_e:0,y:document.body.clientWidth>me?_e:0}),e.value.scale({x:1,y:1})}function se(i){if(b==="")return;const n=e.value.findOne(`.${b}`);if(n)if(i)n.moveToTop();else{const y=e.value.findOne(`.${ve}`);y&&(n.moveToBottom(),y.moveToBottom())}H()}function le(i){if(b===""||b.includes("avatar")||i==="")return;const n=e.value.findOne(`.${b}`);n&&n.setAttr("fill",i)}return z(()=>{var y;const n="#E76161";P.hitOnDragEnabled=!0,e.value=new P.Stage({container:"stage",width:document.body.offsetWidth,height:document.body.offsetHeight,draggable:!0}),r.value=new P.Layer,d.value=new P.Transformer({centeredScaling:!0,keepRatio:!0}),l.value=new P.Circle({y:-50,radius:fe,stroke:n,fill:"white",strokeWidth:1}),S.value=new P.Line({y:-50,points:[0,0,fe*2,0],stroke:n,strokeWidth:1+1}),document.body.offsetWidth>me&&(e.value.x((((y=document.querySelector(".aside"))==null?void 0:y.offsetWidth)??0)+_e),e.value.y(_e)),e.value.on("wheel",ye),e.value.on("touchmove",X),e.value.on("touchend",Z),e.value.on("mousedown",ee),e.value.on("touchstart",ee),d.value.on("transform",()=>{U()}),l.value.on("mouseenter",()=>{e.value.container().style.cursor="pointer"}),l.value.on("mouseleave",()=>{e.value.container().style.cursor="default"}),l.value.on("click",q),l.value.on("touchend",q),S.value.on("mouseenter",()=>{e.value.container().style.cursor="pointer"}),S.value.on("mouseleave",()=>{e.value.container().style.cursor="default"}),S.value.on("click",q),S.value.on("touchend",q),d.value.add(l.value),d.value.add(S.value),r.value.add(new P.Image({image:I,name:ve})),r.value.add(d.value),e.value.add(r.value),window.addEventListener("resize",j)}),at(()=>{window.removeEventListener("resize",j)}),B(()=>t.avatar_node,()=>{t.avatar_node&&t.avatar_node!==""&&(oe(t.avatar_node),t.avatar_node="")}),B(()=>t.is_trigger_add_shape_node,()=>{t.is_trigger_add_shape_node&&(ne(),t.is_trigger_add_shape_node=!1)}),B(()=>t.background_node,()=>{t.background_node&&t.background_node!==""&&(he(t.background_node),t.background_node="")}),B(()=>t.is_trigger_save_image,()=>{t.is_trigger_save_image&&(pe(),t.is_trigger_save_image=!1)}),B(()=>t.is_trigger_relocate,()=>{t.is_trigger_relocate&&(ge(),t.is_trigger_relocate=!1)}),B(()=>t.is_trigger_change_z_index,()=>{t.is_trigger_change_z_index&&(se(t.is_to_top),t.is_trigger_change_z_index=!1)}),B(()=>t.is_trigger_change_color,()=>{t.is_trigger_change_color&&(le(t.changed_color),t.is_trigger_change_color=!1)}),(i,n)=>(v(),R("div",Ht))}});const Bt=ue(qt,[["__scopeId","data-v-54b3565e"]]),K=m=>(be("data-v-afec8304"),m=m(),ke(),m),Kt={class:"app__container"},Vt={key:0,className:"loading_spinner"},Zt=K(()=>s("div",null,null,-1)),Gt=K(()=>s("div",null,null,-1)),Yt=K(()=>s("div",null,null,-1)),Xt=K(()=>s("div",null,null,-1)),jt=K(()=>s("div",null,null,-1)),Qt=K(()=>s("div",null,null,-1)),Jt=K(()=>s("div",null,null,-1)),zt=K(()=>s("div",null,null,-1)),ea=[Zt,Gt,Yt,Xt,jt,Qt,Jt,zt],ta=J({__name:"App",setup(m){const _=E(!0);async function t(e){const r=e.map(d=>new Promise((l,S)=>{const o=new Image;o.src=d,o.onload=l,o.onerror=S}));await Promise.all(r),_.value=!1}return z(()=>{document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`),window.addEventListener("resize",()=>{document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}),window.addEventListener("touchmove",e=>{const r=e.touches[0],d=e.touches[1];r&&d&&e.preventDefault()},{passive:!1}),t([Re,Ee,Te,xe,Le,Me,Pe]).catch(console.error)}),(e,r)=>(v(),R("div",Kt,[_.value?(v(),R("div",Vt,ea)):(v(),R(O,{key:1},[s("aside",null,[f(Ft)]),s("main",null,[f(Bt)])],64))]))}});const aa=ue(ta,[["__scopeId","data-v-afec8304"]]);const oa=ot();nt(aa).use(oa).mount("#app");
