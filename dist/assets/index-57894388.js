var Ae=Object.defineProperty;var $e=(m,_,t)=>_ in m?Ae(m,_,{enumerable:!0,configurable:!0,writable:!0,value:t}):m[_]=t;var Z=(m,_,t)=>($e(m,typeof _!="symbol"?_+"":_,t),t);import{K as P,F as Oe,c as De,Q as Ne,X as Ue,f as We}from"./graphic-ffcdb576.js";import{j as He,k as Fe,B as $,T as qe,l as Be,m as Ke,n as Ve,o as Ze,q as Ye,t as Xe,u as Ge,v as je}from"./ui1-dee75577.js";import{C as ie,a as Qe,T as re}from"./ui2-329d1ed1.js";import{R as Je,d as Q,c as ze,f as J,l as v,q as I,b as f,B as C,S as c,A as j,U as R,V as et,W as q,t as M,s,D as tt,H as O,I as D,y as ce,w as Ce,X as be,Y as ke,Z as at,_ as ot,$ as nt}from"./vue-93b4d435.js";(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const l of d.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function e(r){if(r.ep)return;r.ep=!0;const d=t(r);fetch(r.href,d)}})();const Se=Je("konva_node",{state:()=>({avatar_node:"",background_node:"",shape_node:{type:"",color:""},is_trigger_add_shape_node:!1,is_trigger_save_image:!1,is_trigger_relocate:!1,is_trigger_change_z_index:!1,is_to_top:!1,is_trigger_change_color:!1,changed_color:""})});function Ie(m,_,t,e=""){const r="#393646";switch(m){case"star":return new P.Star({numPoints:5,outerRadius:t,innerRadius:t/2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,offsetX:-t,offsetY:-t});case"heart":return new P.Shape({width:t*2,height:t*2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,sceneFunc:(l,b)=>{const o=t/18;let g=0,w=0,S=0;l.beginPath(),l.translate(t,t/1.05),l.scale(1,-1);for(let k=0;k<20;k+=.25)g=k/Math.PI,w=o*(16*Math.sin(g)**3),S=o*(13*Math.cos(g)-5*Math.cos(2*g)-2*Math.cos(3*g)-Math.cos(4*g)),l.lineTo(w,S);l.closePath(),l.fillStrokeShape(b)}});case"seven":return new P.Text({text:"7",width:t*2,height:t*2,fontSize:t*2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,fontFamily:"sans-serif",align:"center",padding:t/4});case"fire":return new P.Shape({width:t*2,height:t*2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,sceneFunc:(l,b)=>{const o=t*2;l.beginPath(),l.moveTo(o/2,0),l.quadraticCurveTo(o*7/16,o/2,o*3/8,o/2),l.quadraticCurveTo(o*5/16,o/2,o/4,o/4),l.quadraticCurveTo(o/8,o*5/8,o/8,o*3/4),l.quadraticCurveTo(o/8,o*15/16,o/2,o),l.quadraticCurveTo(o*7/8,o*15/16,o*7/8,o*3/4),l.quadraticCurveTo(o*7/8,o*5/8,o*3/4,o/4),l.quadraticCurveTo(o*11/16,o/2,o*5/8,o/2),l.quadraticCurveTo(o*9/16,o/2,o/2,0),l.closePath(),l.fillStrokeShape(b)}});case"moon":return new P.Shape({width:t*2,height:t*2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,sceneFunc:(l,b)=>{const o=Math.sqrt(2)/2,g=t;l.beginPath();for(let w=Math.PI/4;w<=Math.PI*7/4;w+=.1)l.lineTo(g*(1+Math.cos(w)),g*(1-Math.sin(w)));for(let w=Math.PI*3/2;w>=Math.PI/2;w-=.1)l.lineTo((o+1+o*Math.cos(w))*g,g*(1-o*Math.sin(w)));l.closePath(),l.fillStrokeShape(b)}});case"halo":return new P.Ring({outerRadius:t,innerRadius:t/2,fill:_,stroke:r,strokeWidth:2,draggable:!0,name:e,offsetX:-t,offsetY:-t})}return null}const st=Q({__name:"CropperStencil",props:{image:{},coordinates:{},transitions:{},stencilCoordinates:{}},emits:["move","move-end","resize","resize-end"],setup(m,{emit:_}){const t=m,e=He(),r=ze(()=>{const{height:g,width:w,left:S,top:k}=t.stencilCoordinates,A={width:`${w}px`,height:`${g}px`,transform:`translate(${S}px, ${k}px)`,transition:"none"};return t.transitions&&t.transitions.enabled&&(A.transition=`${t.transitions.time}ms ${t.transitions.timingFunction}`),A});function d(g){_("move",g)}function l(){_("move-end")}function b(g){const S=g.shift().left;_("resize",new Ue({left:S,right:S,top:S,bottom:S},{preserveRatio:!0}))}function o(){_("resize-end")}return J(()=>{}),(g,w)=>(v(),I("div",{class:"circle_stencil",style:j(r.value)},[f(c(Oe),{class:"circle_stencil__handler",onDrag:b,onDragEnd:o},{default:C(()=>[f(c(e))]),_:1}),f(c(Ne),{onMove:d,onMoveEnd:l,class:"circle_stencil__crop_area"},{default:C(()=>[f(c(De),{class:"circle_stencil__preview",image:g.image,coordinates:g.coordinates,width:g.stencilCoordinates.width,height:g.stencilCoordinates.height,transitions:g.transitions},null,8,["image","coordinates","width","height","transitions"])]),_:1})],4))}});const lt={class:"cropper_modal__row cropper_modal__row--first"},it={class:"cropper_modal__row cropper_modal__row--last"},rt=Q({__name:"CropperModal",props:{avatarDataUrl:{},isModalShow:{type:Boolean}},emits:["passAvatar","closeModal"],setup(m,{emit:_}){const t=m,e=Fe(),r=R(null),{isModalShow:d}=et(t),l=R(!1);function b(){const o=r.value.getResult().canvas;o&&(_("passAvatar",o.toDataURL()),_("closeModal"))}return J(()=>{window.addEventListener("resize",()=>{var g;const o=document.body.clientWidth;(g=document.querySelector(".tiny-modal__box"))==null||g.style.setProperty("left",`calc(${o>=1008?30:o>=641?20:10}vw + .5rem)`)})}),q(d,o=>{l.value=o}),(o,g)=>(v(),M(c(qe),{class:"cropper_modal",modelValue:l.value,"onUpdate:modelValue":g[1]||(g[1]=w=>l.value=w),showHeader:!1},{default:C(()=>[s("div",lt,[s("div",{class:"cropper_modal__close_button",onClick:g[0]||(g[0]=w=>_("closeModal"))},[f(c(e))])]),f(c(We),{class:"cropper",ref_key:"cropper_instance",ref:r,src:o.avatarDataUrl,stencilProps:{aspectRatio:1/1},stencilComponent:st},null,8,["src"]),s("div",it,[f(c($),{class:"crop_button",onClick:b,round:""},{default:C(()=>[tt("Crop")]),_:1})])]),_:1},8,["modelValue"]))}});const ue=(m,_)=>{const t=m.__vccOpts||m;for(const[e,r]of _)t[e]=r;return t},ct=ue(rt,[["__scopeId","data-v-c39d32fb"]]),Re=""+new URL("b1-17081d0a.png",import.meta.url).href,Ee=""+new URL("b2-a3fadbfe.png",import.meta.url).href,Te=""+new URL("b3-c9265a32.png",import.meta.url).href,xe=""+new URL("r1-1779894b.png",import.meta.url).href,Le=""+new URL("s1-af5e0d63.jpg",import.meta.url).href,Me=""+new URL("s2-ec3d0360.jpg",import.meta.url).href,Pe=""+new URL("s3-885f8f2a.jpg",import.meta.url).href,de=m=>(be("data-v-1a7ccf95"),m=m(),ke(),m),_t={class:"aside"},ut={class:"aside__container"},dt={class:"upload_button"},ht={class:"general_list background_list"},pt=["src"],gt=de(()=>s("span",null,"Meta",-1)),vt={class:"upload_button"},ft={class:"general_list avatar_list"},mt=["src"],yt=de(()=>s("span",null,"777",-1)),wt={class:"general_list shape_color_list"},Ct={class:"shape_color_list__row"},bt={class:"shape_color_list__row"},kt={class:"general_list shape_list"},St=["src"],It={class:"upload_button"},Rt={class:"general_list background_list"},Et=["src"],Tt=de(()=>s("span",null,"Meta",-1)),xt={class:"upload_button"},Lt={class:"general_list avatar_list"},Mt=["src"],Pt=de(()=>s("span",null,"777",-1)),At={class:"general_list shape_color_list"},$t={class:"shape_color_list__row"},Ot={class:"shape_color_list__row"},Dt={class:"general_list shape_list"},Nt=["src"],Ut={class:"general_list operation_list"},Wt=Q({__name:"MyAside",setup(m){class _{constructor(h,a){Z(this,"value");Z(this,"index");this.index=h,this.value=a}}class t{constructor(h=[]){Z(this,"data");Z(this,"counter");this.data=[],this.counter=0,h.length>0&&(this.data=h.map(a=>(this.counter+=1,new _(this.counter,a))))}push(h){this.counter+=1,this.data.push(new _(this.counter,h))}access(h){return this.data[h].value}remove(h){for(let a=0;a<this.data.length;a+=1)if(this.data[a].index===h){this.data.splice(a,1);return}}}const e=Se(),r=Be(),d=Ke(),l=Ve(),b=Ze(),o=Ye(),g=Xe(),w=Ge();let S=!1;const k=R(!1),A=R(["templates"]),W=R("templates"),N=R(!1),Y=R(new t([xe])),K=R(""),U=["#DD5353","#FFD95A","#62CDFF","#03C988","#FFABAB","#9A208C","#20262E","#F0F0F0"],X=["star","heart","seven","fire","moon","halo"].map(u=>({type:u,image:R("")})),V=R(U[0]),G=R(""),H=[{name:"Save",icon:g,handler:n},{name:"Relocate",icon:w,handler:y},{name:"Move to Top",icon:l,handler:()=>x(!0)},{name:"Move to Bottom",icon:b,handler:()=>x(!1)}],z=[Re,Ee,Te,Le,Me,Pe],F=R(new t(z));function he(){S?(document.querySelector(".aside").classList.remove("aside--collapsed"),document.querySelector(".collapse_button").classList.remove("collapse_button--reversed"),S=!1):(document.querySelector(".aside").classList.add("aside--collapsed"),document.querySelector(".collapse_button").classList.add("collapse_button--reversed"),S=!0)}function ee(u){u.length!==0&&(W.value=u[0])}function te(u){A.value=[u.name]}function ae(u){if(!u.target)return;const h=u.target;if(h.files&&h.files[0]){const a=new FileReader;a.onload=p=>{p.target&&(F.value.push(p.target.result),h.value="")},a.readAsDataURL(h.files[0])}}function oe(u){if(!u.target)return;const h=u.target;if(h.files&&h.files[0]){const a=new FileReader;a.onload=p=>{p.target&&(K.value=p.target.result,h.value="",N.value=!0)},a.readAsDataURL(h.files[0])}}function pe(u){Y.value.push(u)}function ge(){N.value=!1,K.value=""}function ne(u){e.background_node=u}function se(u){e.avatar_node=u}function i(u){G.value=u,e.shape_node={type:G.value,color:V.value},e.is_trigger_add_shape_node=!0}function n(){e.is_trigger_save_image=!0}function y(){e.is_trigger_relocate=!0}function x(u){e.is_to_top=u,e.is_trigger_change_z_index=!0}function E(){const h=new P.Circle({radius:24,fill:V.value});for(const a of X){let p=Ie(a.type,V.value,48);p?a.image.value=p.toDataURL():a.image.value=h.toDataURL()}}function T(u){V.value=u,E(),e.changed_color=u,e.is_trigger_change_color=!0}return J(()=>{k.value=document.body.clientWidth<=640,window.addEventListener("resize",()=>{const h=document.body.clientWidth;k.value=h<=640}),E()}),(u,h)=>(v(),I("div",_t,[s("div",ut,[k.value?(v(),M(c(je),{key:1,modelValue:W.value,"onUpdate:modelValue":h[1]||(h[1]=a=>W.value=a),onClick:te},{default:C(()=>[f(c(re),{title:"Templates",name:"templates"},{default:C(()=>[s("label",It,[s("input",{type:"file",accept:"image/*",onChange:ae},null,32),f(c(d))]),s("div",Rt,[(v(!0),I(O,null,D(F.value.data,(a,p)=>(v(),M(c($),{class:"general_list__item background_list__item",key:p,onClick:L=>ne(a.value)},{default:C(()=>[s("img",{src:a.value},null,8,Et),Tt]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(re),{title:"Avatars",name:"avatars"},{default:C(()=>[s("label",xt,[s("input",{type:"file",accept:"image/*",onChange:oe},null,32),f(c(d))]),s("div",Lt,[(v(!0),I(O,null,D(Y.value.data,(a,p)=>(v(),M(c($),{class:"general_list__item avatar_list__item",key:p,onClick:L=>se(a.value)},{default:C(()=>[s("img",{src:a.value},null,8,Mt),Pt,f(c(o))]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(re),{title:"Shapes",name:"shapes"},{default:C(()=>[s("div",At,[s("div",$t,[(v(!0),I(O,null,D(U.slice(0,4),(a,p)=>(v(),M(c($),{class:"general_list__item shape_color_list__item",circle:"",key:p,onClick:L=>T(a),style:j({backgroundColor:a})},null,8,["onClick","style"]))),128))]),s("div",Ot,[(v(!0),I(O,null,D(U.slice(4),(a,p)=>(v(),M(c($),{class:"general_list__item shape_color_list__item",circle:"",key:p,onClick:L=>T(a),style:j({backgroundColor:a})},null,8,["onClick","style"]))),128))])]),s("div",Dt,[(v(!0),I(O,null,D(c(X),(a,p)=>(v(),M(c($),{class:"general_list__item shape_list__item",key:p,onClick:L=>i(a.type)},{default:C(()=>[s("img",{src:a.image.value},null,8,Nt),s("span",null,ce(a.type.charAt(0).toUpperCase()+a.type.slice(1)),1),f(c(o))]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(re),{title:"Operations",name:"operations"},{default:C(()=>[s("div",Ut,[(v(),I(O,null,D(H,(a,p)=>f(c($),{class:"general_list__item operation_list__item",key:p,onClick:a.handler},{default:C(()=>[s("span",null,ce(a.name),1),(v(),M(Ce(a.icon)))]),_:2},1032,["onClick"])),64))])]),_:1})]),_:1},8,["modelValue"])):(v(),M(c(Qe),{key:0,modelValue:A.value,"onUpdate:modelValue":h[0]||(h[0]=a=>A.value=a),onChange:ee},{default:C(()=>[f(c(ie),{title:"Templates",name:"templates"},{default:C(()=>[s("label",dt,[s("input",{type:"file",accept:"image/*",onChange:ae},null,32),f(c(d))]),s("div",ht,[(v(!0),I(O,null,D(F.value.data,(a,p)=>(v(),M(c($),{class:"general_list__item background_list__item background_list__item--middle",key:p,onClick:L=>ne(a.value)},{default:C(()=>[s("img",{src:a.value},null,8,pt),gt]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(ie),{title:"Avatars",name:"avatars"},{default:C(()=>[s("label",vt,[s("input",{type:"file",accept:"image/*",onChange:oe},null,32),f(c(d))]),s("div",ft,[(v(!0),I(O,null,D(Y.value.data,(a,p)=>(v(),M(c($),{class:"general_list__item avatar_list__item avatar_list__item--middle",key:p,onClick:L=>se(a.value)},{default:C(()=>[s("img",{src:a.value},null,8,mt),yt,f(c(o))]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(ie),{title:"Shapes",name:"shapes"},{default:C(()=>[s("div",wt,[s("div",Ct,[(v(!0),I(O,null,D(U.slice(0,4),(a,p)=>(v(),M(c($),{class:"general_list__item shape_color_list__item",circle:"",key:p,onClick:L=>T(a),style:j({backgroundColor:a})},null,8,["onClick","style"]))),128))]),s("div",bt,[(v(!0),I(O,null,D(U.slice(4),(a,p)=>(v(),M(c($),{class:"general_list__item shape_color_list__item",circle:"",key:p,onClick:L=>T(a),style:j({backgroundColor:a})},null,8,["onClick","style"]))),128))])]),s("div",kt,[(v(!0),I(O,null,D(c(X),(a,p)=>(v(),M(c($),{class:"general_list__item shape_list__item shape_list__item--middle",key:p,onClick:L=>i(a.type)},{default:C(()=>[s("img",{src:a.image.value},null,8,St),s("span",null,ce(a.type.charAt(0).toUpperCase()+a.type.slice(1)),1),f(c(o))]),_:2},1032,["onClick"]))),128))])]),_:1}),f(c(ie),{title:"Operations",name:"operations"},{default:C(()=>[(v(),I(O,null,D(H,(a,p)=>f(c($),{class:"general_list__item operation_list__item",key:p,onClick:a.handler},{default:C(()=>[s("span",null,ce(a.name),1),(v(),M(Ce(a.icon)))]),_:2},1032,["onClick"])),64))]),_:1})]),_:1},8,["modelValue"]))]),s("div",{class:"collapse_button",onClick:he},[f(c(r))]),f(ct,{isModalShow:N.value,avatarDataUrl:K.value,onPassAvatar:pe,onCloseModal:ge},null,8,["isModalShow","avatarDataUrl"])]))}});const Ht=ue(Wt,[["__scopeId","data-v-1a7ccf95"]]),Ft={id:"stage"},ve="background",fe=10,me=640,_e=40,qt=Q({__name:"MyStage",setup(m){class _{constructor(){Z(this,"id");this.id=0}get(){return this.id+=1,this.id-1}}const t=Se(),e=R(null),r=R(null),d=R(null),l=R(null),b=R(null),o=new _,g=new _,w=new _,S=new window.Image;let k="",A=null,W=0,N=!1;function Y(i,n){return Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2))}function K(i,n){return{x:(i.x+n.x)/2,y:(i.y+n.y)/2}}function U(){l.value.x(d.value.width()),b.value.x(d.value.width()-fe)}function ye(i){const y=e.value.getPointerPosition(),x={x:y.x-e.value.getAbsolutePosition().x,y:y.y-e.value.getAbsolutePosition().y};let E=!0;i.evt.deltaY<0?e.value.scale({x:e.value.scale().x*1.2,y:e.value.scale().y*1.2}):(e.value.scale({x:e.value.scale().x/1.2,y:e.value.scale().y/1.2}),E=!1),e.value.absolutePosition({x:e.value.getAbsolutePosition().x-x.x*((E?1.2:1/1.2)-1),y:e.value.getAbsolutePosition().y-x.y*((E?1.2:1/1.2)-1)}),U()}function X(i){if(N)return;const n=i.evt.touches[0],y=i.evt.touches[1];if(n&&y){e.value.isDragging()&&e.value.stopDrag();const x={x:n.clientX,y:n.clientY},E={x:y.clientX,y:y.clientY},T=K(x,E),u=Y(x,E);if(!A){A=K(x,E);return}W===0&&(W=u);const h=e.value.scale().x*(u/W),a=h/e.value.scale().x,p={x:T.x-e.value.getAbsolutePosition().x,y:T.y-e.value.getAbsolutePosition().y};e.value.scale({x:h,y:h});const L={x:T.x-A.x,y:T.y-A.y},le={x:e.value.absolutePosition().x-p.x*(a-1)+L.x,y:e.value.absolutePosition().y-p.y*(a-1)+L.y};e.value.absolutePosition(le),W=u,A=T,U()}}function V(){W=0,A=null}function G(){e.value.width(document.body.offsetWidth),e.value.height(document.body.offsetHeight)}function H(){const i=d.value.getNode(),n=e.value.findOne(`.${k}`);d.value.moveToTop(),n!==i&&(n?d.value.nodes([n]):d.value.nodes([]),U())}function z(i){if(i.target===e.value){k="",N=!1,H();return}if(i.target.parent&&i.target.parent.className==="Transformer"){N=!1;return}const n=i.target.name();n===ve?(k="",N=!1):k=n,H()}function F(){const i=e.value.findOne(`.${k}`);i&&(i.destroy(),d.value.nodes([]))}function he(i){S.src=i,r.value.draw()}function ee(i){const n=i.evt.touches[0],y=i.evt.touches[1];n&&y&&(N=!0,e.value.isDragging()&&e.value.stopDrag())}function te(){N=!1}function ae(i){const n=new window.Image;n.src=i;const y=new P.Circle({x:(S.width-n.width)/2,y:(S.height-n.height)/2,radius:n.width/2,fillPatternImage:n,fillPatternRepeat:"no-repeat",fillPatternOffsetX:n.width/2,fillPatternOffsetY:n.height/2,draggable:!0,name:`avatar_${o.get()}`,offsetX:-n.width/2,offsetY:-n.height/2});y.on("touchmove",ee),y.on("touchend",te),r.value.add(y),k=y.name(),H()}function oe(){let n=Ie(t.shape_node.type,t.shape_node.color,100,`shape_${g.get()}`);n&&(n.position({x:S.width/2-100,y:S.height/2-100}),n.on("touchmove",ee),n.on("touchend",te),r.value.add(n),k=n.name(),H())}function pe(){const i=e.value.clone(),n=i.getLayers()[0],y=i.findOne("Transformer"),x=document.createElement("a");let E=0,T=0,u=0,h=0;i.scale({x:1,y:1}),y==null||y.destroy();for(let a=0;a<n.children.length;a+=1){const p=n.children[a].absolutePosition().x,L=n.children[a].absolutePosition().y,le=n.children[a].absolutePosition().x+n.children[a].width(),we=n.children[a].absolutePosition().y+n.children[a].height();a===0?(E=p,T=L,u=le,h=we):(E=Math.min(E,p),T=Math.min(T,L),u=Math.max(u,le),h=Math.max(h,we))}x.download=`berserk${"7".repeat(w.get()+1)}meta.png`,x.href=i.toDataURL({x:E,y:T,width:u-E,height:h-T}),document.body.appendChild(x),x.click(),document.body.removeChild(x)}function ge(){var i;e.value.position({x:document.body.clientWidth>me?(((i=document.querySelector(".aside"))==null?void 0:i.offsetWidth)??0)+_e:0,y:document.body.clientWidth>me?_e:0}),e.value.scale({x:1,y:1})}function ne(i){if(k==="")return;const n=e.value.findOne(`.${k}`);if(n)if(i)n.moveToTop();else{const y=e.value.findOne(`.${ve}`);y&&(n.moveToBottom(),y.moveToBottom())}H()}function se(i){if(k===""||i==="")return;const n=e.value.findOne(`.${k}`);n&&n.setAttr("fill",i)}return J(()=>{var y;const n="#E76161";P.hitOnDragEnabled=!0,e.value=new P.Stage({container:"stage",width:document.body.offsetWidth,height:document.body.offsetHeight,draggable:!0}),r.value=new P.Layer,d.value=new P.Transformer({centeredScaling:!0,keepRatio:!0}),l.value=new P.Circle({y:-50,radius:fe,stroke:n,fill:"white",strokeWidth:1}),b.value=new P.Line({y:-50,points:[0,0,fe*2,0],stroke:n,strokeWidth:1+1}),document.body.offsetWidth>me&&(e.value.x((((y=document.querySelector(".aside"))==null?void 0:y.offsetWidth)??0)+_e),e.value.y(_e)),e.value.on("wheel",ye),e.value.on("touchmove",X),e.value.on("touchend",V),e.value.on("mousedown",z),e.value.on("touchstart",z),d.value.on("transform",()=>{U()}),l.value.on("mouseenter",()=>{e.value.container().style.cursor="pointer"}),l.value.on("mouseleave",()=>{e.value.container().style.cursor="default"}),l.value.on("click",F),l.value.on("touchend",F),b.value.on("mouseenter",()=>{e.value.container().style.cursor="pointer"}),b.value.on("mouseleave",()=>{e.value.container().style.cursor="default"}),b.value.on("click",F),b.value.on("touchend",F),d.value.add(l.value),d.value.add(b.value),r.value.add(new P.Image({image:S,name:ve})),r.value.add(d.value),e.value.add(r.value),window.addEventListener("resize",G)}),at(()=>{window.removeEventListener("resize",G)}),q(()=>t.avatar_node,()=>{t.avatar_node&&t.avatar_node!==""&&(ae(t.avatar_node),t.avatar_node="")}),q(()=>t.is_trigger_add_shape_node,()=>{t.is_trigger_add_shape_node&&(oe(),t.is_trigger_add_shape_node=!1)}),q(()=>t.background_node,()=>{t.background_node&&t.background_node!==""&&(he(t.background_node),t.background_node="")}),q(()=>t.is_trigger_save_image,()=>{t.is_trigger_save_image&&(pe(),t.is_trigger_save_image=!1)}),q(()=>t.is_trigger_relocate,()=>{t.is_trigger_relocate&&(ge(),t.is_trigger_relocate=!1)}),q(()=>t.is_trigger_change_z_index,()=>{t.is_trigger_change_z_index&&(ne(t.is_to_top),t.is_trigger_change_z_index=!1)}),q(()=>t.is_trigger_change_color,()=>{t.is_trigger_change_color&&(se(t.changed_color),t.is_trigger_change_color=!1)}),(i,n)=>(v(),I("div",Ft))}});const Bt=ue(qt,[["__scopeId","data-v-d67b047a"]]),B=m=>(be("data-v-0306829a"),m=m(),ke(),m),Kt={class:"app__container"},Vt={key:0,className:"loading_spinner"},Zt=B(()=>s("div",null,null,-1)),Yt=B(()=>s("div",null,null,-1)),Xt=B(()=>s("div",null,null,-1)),Gt=B(()=>s("div",null,null,-1)),jt=B(()=>s("div",null,null,-1)),Qt=B(()=>s("div",null,null,-1)),Jt=B(()=>s("div",null,null,-1)),zt=B(()=>s("div",null,null,-1)),ea=[Zt,Yt,Xt,Gt,jt,Qt,Jt,zt],ta=Q({__name:"App",setup(m){const _=R(!0);async function t(e){const r=e.map(d=>new Promise((l,b)=>{const o=new Image;o.src=d,o.onload=l,o.onerror=b}));await Promise.all(r),_.value=!1}return J(()=>{document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`),window.addEventListener("resize",()=>{document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}),window.addEventListener("touchmove",e=>{const r=e.touches[0],d=e.touches[1];r&&d&&e.preventDefault()},{passive:!1}),t([Re,Ee,Te,xe,Le,Me,Pe]).catch(console.error)}),(e,r)=>(v(),I("div",Kt,[_.value?(v(),I("div",Vt,ea)):(v(),I(O,{key:1},[s("aside",null,[f(Ht)]),s("main",null,[f(Bt)])],64))]))}});const aa=ue(ta,[["__scopeId","data-v-0306829a"]]);const oa=ot();nt(aa).use(oa).mount("#app");
